name: Docker trigger Build Action
on:
    push:
        tags:
          - 'v*.*.*'
jobs:
  create-new-release:
    name: Create New Release ğŸ‰
    runs-on: ubuntu-latest
    permissions:
      contents: write
      id-token: write
      pull-requests: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.1.7
        with:
          fetch-depth: 0  # Fetch all history for all tags and branches

      - name: Create Release
        env:
          GITHUB_TOKEN: ${{ secrets.GIT_TOKEN }}
        run: |
          gh release create v$(jq -r ".version" package.json) \
            --title "v$(jq -r ".version" package.json)" \
            --notes "## ğŸ What's new in this release:
            
            - [x] New Docker Image Release $(jq -r ".version" package.json )

            ## ğŸ™ğŸ¾ Thank You:

            A big thank you to all our amazing engineers and maintainers
            "
           
    